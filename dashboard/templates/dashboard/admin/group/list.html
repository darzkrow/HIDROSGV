{% extends 'dashboard/base.html' %}
{% block title %}Grupos{% endblock %}
{% block content %}
<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h3 class="card-title">Grupos</h3>
        <a href="{% url 'group_create' %}" class="btn btn-primary">Crear nuevo grupo</a>
    </div>
    <div class="card-body">
        {% if messages %}{% for m in messages %}<div class="alert alert-info">{{ m }}</div>{% endfor %}{% endif %}
        <ul class="list-group">
        {% for g in groups %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <strong>{{ g.name }}</strong>
                    <div class="small text-muted">Permisos: {{ g.permissions.count }}</div>
                </div>
                <div class="btn-group">
                    <a href="{% url 'group_update' g.pk %}" class="btn btn-sm btn-outline-warning">Editar</a>
                    <a href="{% url 'group_delete' g.pk %}" class="btn btn-sm btn-outline-danger">Eliminar</a>
                </div>
            </li>
        {% empty %}
            <li class="list-group-item">No hay grupos definidos.</li>
        {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}
